!function(c){var b=(function(){var i=[];var e=false;var h;var f=function(j){clearTimeout(h);h=setTimeout(g,100)};var g=function(){for(var k=0,j=i.length;k<j;k++){i[k].apply()}};return{register:function(j){i.push(j);if(e===false){c(window).bind("resize",f);e=true}},unregister:function(l){for(var k=0,j=i.length;k<j;k++){if(i[k]==l){delete i[k];break}}}}}());var d=function(g,e){if(!g||!(g=String(g))){return g}e=(e<4)?4:e;g=c.trim(g.replace(/\s+/g," "));if(g.length<=e){return g}var i=g,f=Math.floor(e/2),j,h;j=f-3;g=(j>=1)?i.substr(0,j)+"...":"...";h=i.length-(e-g.length);g+=(h>=0&&h>=j)?i.substr(h):"";return g};var a=function(f,e){this.element=c(f);this.dropdown=c('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+e.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element);if(this.element.parent().is(".tabs-below")){this.dropdown.addClass("dropup")}var g=this;this.element.on("click","> li:not(.tabdrop)",function(){g.dropdown.find(".dropdown-toggle").html(e.text+' <b class="caret"></b>')});this.dropdown.on("click","> .dropdown-menu > li",function(){g.dropdown.find(".dropdown-toggle").html(d(c(this).text(),45)+' <b class="caret"></b>'),g.layout()});b.register(c.proxy(this.layout,this)),this.layout()};a.prototype={constructor:a,layout:function(){var e=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){if(this.offsetTop>0){e.push(this)}});if(e.length>0){e=c(e);this.dropdown.find("ul").empty().append(e);if(this.dropdown.find(".active").length==1){this.dropdown.addClass("active")}else{this.dropdown.removeClass("active")}}else{this.dropdown.addClass("hide")}}};c.fn.tabdrop=function(e){return this.each(function(){var h=c(this),g=h.data("tabdrop"),f=typeof e==="object"&&e;if(!g){h.data("tabdrop",(g=new a(this,c.extend({},c.fn.tabdrop.defaults,f))))}if(typeof e=="string"){g[e]()}})};c.fn.tabdrop.defaults={text:'<i class="fa fa-bars"></i>'};c.fn.tabdrop.Constructor=a}(window.jQuery);